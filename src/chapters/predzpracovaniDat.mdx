import { ImageWithCaption } from "../components/ImageWithCaption";

<article id="predzpracovaniDat">
    <header style={{marginBottom: "1rem"}}>
        ##  PÅ™edzpracovÃ¡nÃ­ vstupnÃ­ch dat ğŸ¯
    </header>

    JeÅ¡tÄ› pÅ™ed zahÃ¡jenÃ­m trÃ©novÃ¡nÃ­ naÅ¡ich modelÅ¯ je nutnÃ© aby data byla ve sprÃ¡vnÃ©m (validnÃ­m) formÃ¡tu.
    Tedy je nutnÃ© provÃ©st oÄiÅ¡tÄ›nÃ­ dat.

    Postupovali jsme nÃ¡slednovnÄ›:

    NejdÅ™Ã­ve jsme odstranili sloupce, kterÃ© nejsou pro nÃ¡Å¡ problÃ©m relevantnÃ­. Jednalo se o sloupce:

    - scrape id
    - main story polled
    - main + extras polled
    - completionist polled
    - all playstyles polled
    - developers
    - publishers
    - aliases
    - alias

    PotÃ© jsme odstranili Å™Ã¡dky ve kterÃ½ch byla prÃ¡zdnÃ¡ (NaN / nulovÃ¡) hodnota ve sloupÃ­ch Genres a Platforms

    TakÃ© bylo nutnÃ© "pÅ™epoÄÃ­tat" hodnotu rating (hodnocenÃ­), protoÅ¾e tato hodnota byla desetinnÃ© ÄÃ­slo v intervalu 0 aÅ¾ 1, proto jsme hodnotu vynÃ¡sobili 100 a zÃ­skali jsme jejÃ­ hodnocenÃ­ v procentech (v celÃ½ch ÄÃ­slech).

    NÃ¡slednÄ› jsme opÄ›t odstranili prÃ¡zdnÃ© (chybÄ›jÃ­cÃ­) zÃ¡znamy postupnÄ› ve sloupcÃ­ch:
    - VydÃ¡nÃ­ hry (na, eu, jp). Tyto hodnoty byly pÅ™evedeny na datovÃ½ typ datetime.
    - Developer a Publisher. Pokud chybÄ›l jen jeden Ãºdaj, tak byl doplnÄ›n Ãºdajem druhÃ½m (pokud chybÄ›l Developer, tak se nahradil Publisherem a naopak)

    PoslednÃ­m zpracovÃ¡nÃ­m byly ÄasovÃ© hodnoty. Pokud nÃ¡zev sloupce neobsahoval slovo mediÃ¡n tak se celÃ½ odstranil, a pokud ho obsahoval, tak se tento sloupec (respektive jeho hodnota) pÅ™evedla na datovÃ½ typ timedelta.

    JeÅ¡tÄ› bylo tÅ™eba vyplnit prÃ¡zdnÃ© hodnoty ve sloupcÃ­ch, kterÃ© obsahujÃ­ podÅ™etÄ›zec "main_story", "main_+_extras", "completionist" nebo "all_playstyles". Tyto hodnoty se doplnily prÅ¯mÄ›rnou hodnotou sloupce.

    Na obrÃ¡zku nÃ­Å¾e je vidÄ›t, Å¾e ani jeden sloupec neobsahuje nulovou nebo prÃ¡zdnou hodnotu.


    <center>
        <ImageWithCaption
            src="/pocetPrazdnychHodnoty.jpg"
            caption="VÃ½pis pÅ™Ã­kazu, ktreÃ½ zjiÅ¡toval poÄet prÃ¡zdnÃ½ch (nenulovÃ½ch) hodnot v datasetu"
            source={""}
        />

    </center>
    
        ### One hot encoding - vytvoÅ™enÃ­ 2 skupin hodnocenÃ­ her

    PÅ™idali jsme do naÅ¡eho datasetu dva novÃ© sloupce "developer_count" a "publisher_count" - tedy poÄty her, kterÃ© byli vyvinuty kaÅ¾dÃ½m vÃ½vojÃ¡Å™em a poÄty her publikovanÃ© kaÅ¾dÃ½m vydavatelem.

    PotÃ© jsme pouÅ¾ili algoritmus KMeans a pouÅ¾ili pro nÄ›j jako vstupnÃ­ data jednormÄ›rnÃ© pole, kterÃ© obsahovalo poÄet her vyvinutÃ½ch kaÅ¾dÃ½m vÃ½vojÃ¡Å™em.
    NÃ¡slednÄ› se provedl vÃ½poÄet metody lokte (elbow method) pro urÄenÃ­ optimÃ¡lnÃ­ho poÄtu skupin. V naÅ¡em pÅ™Ã­padÄ› vyplynulo, Å¾e optimÃ¡lnÃ­ poÄet skupin jsou 3.

    Tento stejnÃ½ postup jsme zopakovali i pro sloupec "publisher_count". A opÄ›t z metody lokte vyplynulo, Å¾e optimÃ¡lnÃ­ poÄet skupin je roven 3.

    PotÃ© jsme si urÄili hranice rozdÄ›lenÃ­:
    - treshold1 = 33.33
    - treshold2 = 66.66

    A takÃ© prÅ¯mÄ›rnou hranici hry (avg_game_treshold) na hodnotu 70.

    VytvoÅ™ili jsme funkci "assign_group", kterÃ¡ nÃ¡m pÅ™iÅ™azuje hodnotu do skupiny na zÃ¡kladÄ› hranic a prÅ¯mÄ›rnÃ© hodnoty avg_game_treshold. Tuto funkci jsme aplikovali na sloupec hodnocenÃ­ (rating) a vÃ½sledky byly uloÅ¾eny do novÃ©ho sloupce "rating_group"
    Na zÃ¡vÄ›r tÃ©to ÄÃ¡sti jsme si nechali zobrazit graf znÃ¡zorÅˆujÃ­cÃ­ poÄet her pro konkrÃ©tnÃ­ skupiny (skupina 0 a skupina 1)

    <center>
        <ImageWithCaption
            src="/zastoupeniHodnoceniHer.png"
            caption="Graf zastoupenÃ­ hodnocenÃ­ her"
            source={""}
        />

    </center>

    PoznÃ¡mka: Metodu One hot encoding jsme chtÄ›li pouÅ¾Ã­t takÃ© i pro sloupec platforms. JenomÅ¾e zde vznikl problÃ©m, Å¾e by nÃ¡Å¡ dataset mÄ›l vÃ­ce neÅ¾ 1 000 sloupcÅ¯ a vÃ½sledek trÃ©novÃ¡nÃ­ modelu by byl o mnohem horÅ¡Ã­.



    ### VytvoÅ™enÃ­ novÃ½ch sloupcÅ¯ "is_PC" a "is_Console"
    Tyto sloupce byly vytvoÅ™eny protoÅ¾e opÄ›t v naÅ¡em datasetu existovalo mnoho typÅ¯ platforem, na kterÃ½ch se hry daly hrÃ¡t. Rozhodli jsme se, Å¾e tyto platformy zredukujeme v podstatÄ› na 2 sloupce (is_PC, is_Console).
    RozdÄ›lenÃ­ probÄ›hlo nÃ¡sledovnÄ›:
     - Pokud sloupec platforms obsahoval hodnotu PC, tak se do sloupce is_PC vloÅ¾ila hodnota 1, pokud hodnotu PC neobsahoval, tak se pÅ™iÅ™adila hodnota 0
     - Pokud sloupec platforms NEobsahoval hodnotu PC, tak se do sloupce is_Console vloÅ¾ila hodnota 1, jinak se vloÅ¾ila hodnota 0.

    ### ZpracovÃ¡nÃ­ sloupce "genres"
    NÃ¡slednÄ› jsme "vyfiltrovali" i sloupec, kterÃ½ obsahoval seznam Å¾Ã¡nrÅ¯. Z analÃ½zy jednotlivÃ½ch Äetnosti Å¾Ã¡nrÅ¯ vyplynulo, Å¾e v naÅ¡em datasetu existuje spoustu Å¾Ã¡nrÅ¯, kterÃ© majÃ­ pomÄ›rnÃ© malÃ© zastoupenÃ­. Pro dalÅ¡Ã­ zpracovÃ¡nÃ­ jsme brali v potaz pouze Å¾Ã¡nry kterÃ© byly zastoupeny alespoÅˆ v poÄtu 50+ .

    JednotlivÃ© seznamy Å¾Ã¡nrÅ¯ pak byly pÅ™evedeny na binÃ¡rnÃ­ formu (pomocÃ­ MultiLabelBinarizer), kde kaÅ¾dÃ½ Å¾Ã¡nr mÃ¡ vlastnÃ­ sloupec s hodnou 1 nebo 0, kterÃ¡ je zÃ¡vislÃ¡ na tom, zda danÃ½ Å¾Ã¡nr se v seznamu vyskytuje nebo ne.

    ### RozdÄ›lenÃ­ sloupce "na" - datum vydÃ¡nÃ­ hry
    Datum vydÃ¡nÃ­ hry ("na") byl rozdÄ›len na novÃ© 3 sloupce a to z pÅ¯vodnÃ­ho formÃ¡tu DD.MM.YYYY na:
    - na_year (rok)
    - na_month (mÄ›sÃ­c)
    - na_day (den)

    ### ZpracovÃ¡nÃ­ ÄasovÃ½ch ÃºdajÅ¯ a jejich normalizace
    ÄŒasovÃ© Ãºdaje byly pÅ™evedeny na minuty (poÄet minut pro dokonÄenÃ­ jednotlivÃ© hry).
    OdlehlÃ© hodnoty byly z datasetu odstranÄ›ny. PrÃ¡h jsme stanovili na hodnotu 3.

    Nechali jsme vypoÄÃ­tat hodnoty z-score (standardizovanÃ© skÃ³re) pro vybranÃ© sloupce a filtrovanÃ© hodnoty jsme uloÅ¾ili do "filtered_data", kterÃ½ obsahuje pouze neodlehlÃ© hodnoty. PodrobnÄ›jÅ¡Ã­ postup vÃ½poÄtu z-score je uveden ve zdrojovÃ©m kÃ³du naÅ¡eho projektu.

    JednotlivÃ© sloupce byly nÃ¡slednÄ› znormalizovÃ¡ny pomocÃ­ MinMaxScaler.












</article>
